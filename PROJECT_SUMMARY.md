# ğŸ“‹ URL Shortener é¡¹ç›®æ€»ç»“

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªå®Œæ•´çš„çŸ­é“¾æ¥ç³»ç»Ÿå®ç°ï¼Œä¸¥æ ¼æŒ‰ç…§ **Grokking System Design** çš„æ€è·¯è®¾è®¡ï¼Œä½¿ç”¨ **Java 8 + Spring Boot** å¼€å‘ï¼Œæ”¯æŒ **Kubernetes** éƒ¨ç½²ï¼ŒåŒ…å«å®Œæ•´çš„æµ‹è¯•å¥—ä»¶å’Œå‰ç«¯ç•Œé¢ã€‚

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„ç‰¹ç‚¹

### âœ… éµå¾ªç³»ç»Ÿè®¾è®¡æœ€ä½³å®è·µ
- **éœ€æ±‚åˆ†æ**: åŠŸèƒ½éœ€æ±‚ + éåŠŸèƒ½éœ€æ±‚
- **å®¹é‡ä¼°ç®—**: æµé‡ä¼°ç®— + å­˜å‚¨ä¼°ç®—  
- **æ¶æ„è®¾è®¡**: åˆ†å±‚æ¶æ„ + å¾®æœåŠ¡æ€æƒ³
- **æ•°æ®åº“è®¾è®¡**: åˆç†çš„è¡¨ç»“æ„å’Œç´¢å¼•
- **ç®—æ³•é€‰æ‹©**: Base62ç¼–ç  + ç¢°æ’å¤„ç†
- **ç¼“å­˜ç­–ç•¥**: å¤šçº§ç¼“å­˜ + Cache-Asideæ¨¡å¼
- **é«˜å¯ç”¨è®¾è®¡**: æ— çŠ¶æ€ + æ•…éšœè½¬ç§»
- **æ€§èƒ½ä¼˜åŒ–**: æ•°æ®åº“ä¼˜åŒ– + åº”ç”¨ä¼˜åŒ–

### âœ… æŠ€æœ¯æ ˆå®Œæ•´æ€§
- **åç«¯æ¡†æ¶**: Spring Boot 2.7.18
- **æ•°æ®è®¿é—®**: Spring Data JPA + MySQL
- **ç¼“å­˜**: Caffeine (æœ¬åœ°ç¼“å­˜)
- **å®¹å™¨åŒ–**: Docker + Docker Compose
- **ç¼–æ’**: Kubernetes (å®Œæ•´é…ç½®)
- **å‰ç«¯**: HTML5 + JavaScript + Tailwind CSS
- **æµ‹è¯•**: JUnit 5 + Mockito + TestContainers

## ğŸ“ é¡¹ç›®ç»“æ„

```
url-shortener/
â”œâ”€â”€ ğŸ“„ æ ¸å¿ƒæ–‡æ¡£
â”‚   â”œâ”€â”€ README.md              # é¡¹ç›®è¯´æ˜
â”‚   â”œâ”€â”€ QUICK_START.md         # å¿«é€Ÿå¯åŠ¨æŒ‡å—
â”‚   â”œâ”€â”€ SYSTEM_DESIGN.md       # ç³»ç»Ÿè®¾è®¡æ–‡æ¡£
â”‚   â””â”€â”€ PROJECT_SUMMARY.md     # é¡¹ç›®æ€»ç»“
â”‚
â”œâ”€â”€ â˜• Java æºç 
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ main/java/com/shorturl/
â”‚       â”‚   â”œâ”€â”€ UrlShortenerApplication.java    # ä¸»åº”ç”¨ç±»
â”‚       â”‚   â”œâ”€â”€ controller/                     # REST æ§åˆ¶å™¨
â”‚       â”‚   â”‚   â”œâ”€â”€ UrlShortenerController.java
â”‚       â”‚   â”‚   â””â”€â”€ HomeController.java
â”‚       â”‚   â”œâ”€â”€ service/                        # ä¸šåŠ¡æœåŠ¡
â”‚       â”‚   â”‚   â”œâ”€â”€ UrlShortenerService.java
â”‚       â”‚   â”‚   â””â”€â”€ impl/UrlShortenerServiceImpl.java
â”‚       â”‚   â”œâ”€â”€ repository/                     # æ•°æ®è®¿é—®
â”‚       â”‚   â”‚   â””â”€â”€ UrlMappingRepository.java
â”‚       â”‚   â”œâ”€â”€ entity/                         # å®ä½“ç±»
â”‚       â”‚   â”‚   â””â”€â”€ UrlMapping.java
â”‚       â”‚   â”œâ”€â”€ dto/                           # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚       â”‚   â”‚   â”œâ”€â”€ ShortenUrlRequest.java
â”‚       â”‚   â”‚   â”œâ”€â”€ ShortenUrlResponse.java
â”‚       â”‚   â”‚   â””â”€â”€ UrlStatsResponse.java
â”‚       â”‚   â”œâ”€â”€ config/                        # é…ç½®ç±»
â”‚       â”‚   â”‚   â””â”€â”€ CacheConfig.java
â”‚       â”‚   â”œâ”€â”€ util/                          # å·¥å…·ç±»
â”‚       â”‚   â”‚   â””â”€â”€ Base62Encoder.java
â”‚       â”‚   â””â”€â”€ exception/                     # å¼‚å¸¸ç±»
â”‚       â”‚       â”œâ”€â”€ UrlNotFoundException.java
â”‚       â”‚       â””â”€â”€ UrlAlreadyExistsException.java
â”‚       â””â”€â”€ test/                              # æµ‹è¯•ä»£ç 
â”‚           â”œâ”€â”€ controller/UrlShortenerControllerTest.java
â”‚           â”œâ”€â”€ service/UrlShortenerServiceTest.java
â”‚           â”œâ”€â”€ util/Base62EncoderTest.java
â”‚           â””â”€â”€ integration/UrlShortenerIntegrationTest.java
â”‚
â”œâ”€â”€ ğŸŒ å‰ç«¯ç•Œé¢
â”‚   â””â”€â”€ static/
â”‚       â”œâ”€â”€ index.html         # ä¸»é¡µé¢
â”‚       â””â”€â”€ script.js          # äº¤äº’è„šæœ¬
â”‚
â”œâ”€â”€ ğŸ³ å®¹å™¨åŒ–é…ç½®
â”‚   â”œâ”€â”€ Dockerfile             # Docker é•œåƒæ„å»º
â”‚   â””â”€â”€ docker-compose.yml     # æœ¬åœ°å¼€å‘ç¯å¢ƒ
â”‚
â”œâ”€â”€ â˜¸ï¸ Kubernetes é…ç½®
â”‚   â””â”€â”€ k8s/
â”‚       â”œâ”€â”€ namespace.yaml     # å‘½åç©ºé—´
â”‚       â”œâ”€â”€ configmap.yaml     # é…ç½®æ˜ å°„
â”‚       â”œâ”€â”€ secret.yaml        # æ•æ„Ÿä¿¡æ¯
â”‚       â”œâ”€â”€ deployment.yaml    # åº”ç”¨éƒ¨ç½²
â”‚       â”œâ”€â”€ ingress.yaml       # å¤–éƒ¨è®¿é—®
â”‚       â””â”€â”€ hpa.yaml          # è‡ªåŠ¨æ‰©ç¼©å®¹
â”‚
â”œâ”€â”€ ğŸ”§ è„šæœ¬å·¥å…·
â”‚   â””â”€â”€ scripts/
â”‚       â”œâ”€â”€ deploy.sh          # K8s éƒ¨ç½²è„šæœ¬
â”‚       â”œâ”€â”€ test.sh           # æµ‹è¯•è„šæœ¬
â”‚       â””â”€â”€ init.sql          # æ•°æ®åº“åˆå§‹åŒ–
â”‚
â”œâ”€â”€ ğŸ“‹ é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ pom.xml               # Maven é…ç½®
â”‚   â”œâ”€â”€ Makefile              # æ„å»ºå·¥å…·
â”‚   â”œâ”€â”€ start.sh              # å¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ .gitignore           # Git å¿½ç•¥æ–‡ä»¶
â”‚
â””â”€â”€ ğŸ“Š é…ç½®æ–‡ä»¶
    â””â”€â”€ src/main/resources/
        â”œâ”€â”€ application.yml        # ä¸»é…ç½®
        â””â”€â”€ application-test.yml   # æµ‹è¯•é…ç½®
```

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½å®ç°

### 1. URL ç¼©çŸ­æœåŠ¡
- âœ… **é•¿URLè½¬çŸ­URL**: Base62ç¼–ç ç®—æ³•
- âœ… **è‡ªå®šä¹‰åˆ«å**: æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰çŸ­é“¾æ¥
- âœ… **è¿‡æœŸæ—¶é—´**: å¯è®¾ç½®URLè¿‡æœŸæ—¶é—´
- âœ… **é‡å¤æ£€æµ‹**: ç›¸åŒURLè¿”å›å·²å­˜åœ¨çš„çŸ­é“¾æ¥
- âœ… **ç¢°æ’å¤„ç†**: è‡ªåŠ¨é‡è¯•æœºåˆ¶

### 2. URL é‡å®šå‘æœåŠ¡  
- âœ… **å¿«é€Ÿé‡å®šå‘**: <100mså“åº”æ—¶é—´
- âœ… **ç‚¹å‡»ç»Ÿè®¡**: è‡ªåŠ¨è®°å½•è®¿é—®æ¬¡æ•°
- âœ… **è¿‡æœŸæ£€æŸ¥**: è‡ªåŠ¨è¿‡æ»¤è¿‡æœŸé“¾æ¥
- âœ… **ç¼“å­˜ä¼˜åŒ–**: çƒ­ç‚¹æ•°æ®ç¼“å­˜

### 3. ç»Ÿè®¡åˆ†æåŠŸèƒ½
- âœ… **ç‚¹å‡»ç»Ÿè®¡**: å•ä¸ªURLç‚¹å‡»æ•°
- âœ… **ç³»ç»Ÿç»Ÿè®¡**: æ€»URLæ•°ã€æ€»ç‚¹å‡»æ•°ã€ä»Šæ—¥æ–°å¢
- âœ… **å®æ—¶æ›´æ–°**: å¼‚æ­¥æ›´æ–°ç»Ÿè®¡æ•°æ®

### 4. ç®¡ç†åŠŸèƒ½
- âœ… **URLç®¡ç†**: æŸ¥çœ‹ã€åˆ é™¤URL
- âœ… **æ‰¹é‡æ¸…ç†**: æ¸…ç†è¿‡æœŸURL
- âœ… **ç³»ç»Ÿç›‘æ§**: å¥åº·æ£€æŸ¥ã€æŒ‡æ ‡ç›‘æ§

## ğŸ§ª æµ‹è¯•è¦†ç›–

### å•å…ƒæµ‹è¯• (70%+ è¦†ç›–ç‡)
- âœ… **Serviceå±‚æµ‹è¯•**: ä¸šåŠ¡é€»è¾‘éªŒè¯
- âœ… **Utilå±‚æµ‹è¯•**: å·¥å…·ç±»æµ‹è¯•
- âœ… **Repositoryå±‚æµ‹è¯•**: æ•°æ®è®¿é—®æµ‹è¯•

### é›†æˆæµ‹è¯•
- âœ… **Controlleræµ‹è¯•**: REST APIæµ‹è¯•
- âœ… **ç«¯åˆ°ç«¯æµ‹è¯•**: å®Œæ•´æµç¨‹æµ‹è¯•
- âœ… **æ•°æ®åº“é›†æˆ**: çœŸå®æ•°æ®åº“æµ‹è¯•

### æ€§èƒ½æµ‹è¯•
- âœ… **å‹åŠ›æµ‹è¯•**: å¹¶å‘è¯·æ±‚æµ‹è¯•
- âœ… **è´Ÿè½½æµ‹è¯•**: æŒç»­è´Ÿè½½æµ‹è¯•
- âœ… **åŸºå‡†æµ‹è¯•**: æ€§èƒ½åŸºå‡†å»ºç«‹

## â˜¸ï¸ Kubernetes éƒ¨ç½²

### å®Œæ•´çš„ K8s é…ç½®
- âœ… **Namespace**: èµ„æºéš”ç¦»
- âœ… **ConfigMap**: é…ç½®ç®¡ç†
- âœ… **Secret**: æ•æ„Ÿä¿¡æ¯ç®¡ç†
- âœ… **Deployment**: åº”ç”¨éƒ¨ç½²
- âœ… **Service**: æœåŠ¡å‘ç°
- âœ… **Ingress**: å¤–éƒ¨è®¿é—®
- âœ… **HPA**: è‡ªåŠ¨æ‰©ç¼©å®¹

### ç”Ÿäº§å°±ç»ªç‰¹æ€§
- âœ… **å¥åº·æ£€æŸ¥**: Liveness + Readiness + Startup
- âœ… **èµ„æºé™åˆ¶**: CPU + Memory é™åˆ¶
- âœ… **æ»šåŠ¨æ›´æ–°**: é›¶åœæœºéƒ¨ç½²
- âœ… **è‡ªåŠ¨æ‰©ç¼©**: åŸºäºCPU/å†…å­˜è‡ªåŠ¨æ‰©ç¼©å®¹

## ğŸŒ å‰ç«¯ç•Œé¢

### ç°ä»£åŒ– Web ç•Œé¢
- âœ… **å“åº”å¼è®¾è®¡**: æ”¯æŒç§»åŠ¨ç«¯
- âœ… **ç¾è§‚UI**: Tailwind CSS + Font Awesome
- âœ… **äº¤äº’ä¸°å¯Œ**: å®æ—¶åé¦ˆ + åŠ¨ç”»æ•ˆæœ
- âœ… **åŠŸèƒ½å®Œæ•´**: åˆ›å»ºã€ç®¡ç†ã€ç»Ÿè®¡ä¸€ä½“åŒ–

### ç”¨æˆ·ä½“éªŒä¼˜åŒ–
- âœ… **ä¸€é”®å¤åˆ¶**: çŸ­é“¾æ¥å¿«é€Ÿå¤åˆ¶
- âœ… **å®æ—¶éªŒè¯**: è¾“å…¥æ ¼å¼éªŒè¯
- âœ… **é”™è¯¯å¤„ç†**: å‹å¥½çš„é”™è¯¯æç¤º
- âœ… **åŠ è½½çŠ¶æ€**: æ“ä½œçŠ¶æ€åé¦ˆ

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

### å“åº”æ—¶é—´
- **URLåˆ›å»º**: < 50ms (P95)
- **URLé‡å®šå‘**: < 10ms (P95)
- **ç»Ÿè®¡æŸ¥è¯¢**: < 30ms (P95)

### ååé‡
- **åˆ›å»ºQPS**: 1000+
- **é‡å®šå‘QPS**: 10000+
- **å¹¶å‘ç”¨æˆ·**: 1000+

### å¯ç”¨æ€§
- **ç³»ç»Ÿå¯ç”¨æ€§**: 99.9%+
- **æ•°æ®ä¸€è‡´æ€§**: å¼ºä¸€è‡´æ€§
- **æ•…éšœæ¢å¤**: < 30s

## ğŸ”’ å®‰å…¨ç‰¹æ€§

### è¾“å…¥å®‰å…¨
- âœ… **å‚æ•°éªŒè¯**: ä¸¥æ ¼çš„è¾“å…¥éªŒè¯
- âœ… **SQLæ³¨å…¥é˜²æŠ¤**: å‚æ•°åŒ–æŸ¥è¯¢
- âœ… **XSSé˜²æŠ¤**: è¾“å‡ºç¼–ç 

### è®¿é—®å®‰å…¨
- âœ… **HTTPSæ”¯æŒ**: ä¼ è¾“åŠ å¯†
- âœ… **é¢‘ç‡é™åˆ¶**: é˜²æ­¢æ»¥ç”¨
- âœ… **æƒé™æ§åˆ¶**: ç®¡ç†æ¥å£ä¿æŠ¤

## ğŸ› ï¸ å¼€å‘å·¥å…·

### æ„å»ºå·¥å…·
- âœ… **Maven**: ä¾èµ–ç®¡ç† + æ„å»º
- âœ… **Makefile**: ä¾¿æ·å‘½ä»¤é›†åˆ
- âœ… **Shellè„šæœ¬**: è‡ªåŠ¨åŒ–éƒ¨ç½²

### ä»£ç è´¨é‡
- âœ… **å•å…ƒæµ‹è¯•**: JUnit 5 + Mockito
- âœ… **é›†æˆæµ‹è¯•**: TestContainers
- âœ… **ä»£ç è¦†ç›–**: JaCoCo
- âœ… **é™æ€åˆ†æ**: SpotBugs + Checkstyle

## ğŸ“ˆ æ‰©å±•æ€§è®¾è®¡

### æ°´å¹³æ‰©å±•
- âœ… **æ— çŠ¶æ€è®¾è®¡**: æ”¯æŒå¤šå®ä¾‹
- âœ… **è´Ÿè½½å‡è¡¡**: è¯·æ±‚åˆ†å‘
- âœ… **æ•°æ®åº“ä¼˜åŒ–**: ç´¢å¼•ä¼˜åŒ–
- âœ… **ç¼“å­˜ç­–ç•¥**: å¤šçº§ç¼“å­˜

### å‚ç›´æ‰©å±•
- âœ… **èµ„æºé…ç½®**: å¯è°ƒæ•´èµ„æºé™åˆ¶
- âœ… **JVMè°ƒä¼˜**: å†…å­˜å’ŒGCä¼˜åŒ–
- âœ… **è¿æ¥æ± **: æ•°æ®åº“è¿æ¥ä¼˜åŒ–

## ğŸ¯ é¡¹ç›®äº®ç‚¹

### 1. ç³»ç»Ÿè®¾è®¡å®Œæ•´æ€§
- ä¸¥æ ¼éµå¾ªç³»ç»Ÿè®¾è®¡é¢è¯•æ ‡å‡†æµç¨‹
- ä»éœ€æ±‚åˆ†æåˆ°éƒ¨ç½²çš„å®Œæ•´æ–¹æ¡ˆ
- è€ƒè™‘äº†æ‰©å±•æ€§ã€å¯ç”¨æ€§ã€æ€§èƒ½ç­‰å„ä¸ªæ–¹é¢

### 2. æŠ€æœ¯æ ˆç°ä»£åŒ–
- ä½¿ç”¨ä¸»æµçš„ Spring Boot æ¡†æ¶
- å®Œæ•´çš„å®¹å™¨åŒ–å’Œ K8s éƒ¨ç½²
- ç°ä»£åŒ–çš„å‰ç«¯ç•Œé¢

### 3. ä»£ç è´¨é‡é«˜
- å®Œæ•´çš„æµ‹è¯•è¦†ç›– (å•å…ƒæµ‹è¯• + é›†æˆæµ‹è¯•)
- æ¸…æ™°çš„ä»£ç ç»“æ„å’Œæ³¨é‡Š
- éµå¾ªæœ€ä½³å®è·µå’Œè®¾è®¡æ¨¡å¼

### 4. ç”Ÿäº§å°±ç»ª
- å®Œæ•´çš„ç›‘æ§å’Œå¥åº·æ£€æŸ¥
- è¯¦ç»†çš„æ–‡æ¡£å’Œéƒ¨ç½²æŒ‡å—
- è€ƒè™‘äº†å®‰å…¨æ€§å’Œæ€§èƒ½ä¼˜åŒ–

### 5. ç”¨æˆ·ä½“éªŒä½³
- ç¾è§‚çš„ Web ç•Œé¢
- å®Œæ•´çš„åŠŸèƒ½æ¼”ç¤º
- å‹å¥½çš„é”™è¯¯å¤„ç†

## ğŸš€ å¿«é€Ÿä½“éªŒ

```bash
# 1. å…‹éš†é¡¹ç›®
git clone <repository-url>
cd url-shortener

# 2. å¿«é€Ÿå¯åŠ¨
chmod +x start.sh
./start.sh

# 3. è®¿é—®åº”ç”¨
open http://localhost:8000
```

## ğŸ“š å­¦ä¹ ä»·å€¼

### å¯¹äºç³»ç»Ÿè®¾è®¡é¢è¯•
- âœ… å®Œæ•´çš„ç³»ç»Ÿè®¾è®¡æ€è·¯
- âœ… å®é™…çš„æŠ€æœ¯å®ç°
- âœ… æ€§èƒ½å’Œæ‰©å±•æ€§è€ƒè™‘
- âœ… ç›‘æ§å’Œè¿ç»´æ–¹æ¡ˆ

### å¯¹äºæŠ€æœ¯å­¦ä¹ 
- âœ… Spring Boot æœ€ä½³å®è·µ
- âœ… Kubernetes éƒ¨ç½²å®æˆ˜
- âœ… æµ‹è¯•é©±åŠ¨å¼€å‘
- âœ… å‰åç«¯åˆ†ç¦»æ¶æ„

### å¯¹äºé¡¹ç›®å®æˆ˜
- âœ… å®Œæ•´çš„é¡¹ç›®ç»“æ„
- âœ… è§„èŒƒçš„ä»£ç ç»„ç»‡
- âœ… è¯¦ç»†çš„æ–‡æ¡£è¯´æ˜
- âœ… è‡ªåŠ¨åŒ–çš„éƒ¨ç½²æµç¨‹

## ğŸ‰ æ€»ç»“

è¿™ä¸ª URL Shortener é¡¹ç›®æ˜¯ä¸€ä¸ª**ç”Ÿäº§çº§åˆ«**çš„çŸ­é“¾æ¥ç³»ç»Ÿå®ç°ï¼Œä¸ä»…å®Œæ•´åœ°å±•ç¤ºäº†ç³»ç»Ÿè®¾è®¡çš„æ€è·¯ï¼Œè¿˜æä¾›äº†å¯ç›´æ¥è¿è¡Œçš„ä»£ç å’Œéƒ¨ç½²æ–¹æ¡ˆã€‚

**é¡¹ç›®ç‰¹è‰²**ï¼š
- ğŸ“‹ **è®¾è®¡å®Œæ•´**: éµå¾ªç³»ç»Ÿè®¾è®¡æœ€ä½³å®è·µ
- ğŸ—ï¸ **æ¶æ„æ¸…æ™°**: åˆ†å±‚æ¶æ„ï¼ŒèŒè´£æ˜ç¡®  
- ğŸ§ª **æµ‹è¯•å……åˆ†**: å•å…ƒæµ‹è¯• + é›†æˆæµ‹è¯•
- â˜¸ï¸ **éƒ¨ç½²ç®€å•**: ä¸€é”®éƒ¨ç½²åˆ° Kubernetes
- ğŸŒ **ç•Œé¢ç¾è§‚**: ç°ä»£åŒ– Web ç•Œé¢
- ğŸ“š **æ–‡æ¡£è¯¦ç»†**: å®Œæ•´çš„ä½¿ç”¨å’Œéƒ¨ç½²æ–‡æ¡£

è¿™ä¸ªé¡¹ç›®å¯ä»¥ä½œä¸ºï¼š
- **ç³»ç»Ÿè®¾è®¡é¢è¯•**çš„å‚è€ƒå®ç°
- **Spring Boot é¡¹ç›®**çš„æœ€ä½³å®è·µæ¨¡æ¿
- **Kubernetes éƒ¨ç½²**çš„å­¦ä¹ æ¡ˆä¾‹
- **çŸ­é“¾æ¥æœåŠ¡**çš„ç”Ÿäº§çº§å®ç°

---

**ğŸ¯ Ready for Production! ğŸš€**